---
title: Windows 11 policy settings
description: This article lists the Windows 11 policy settings used in Microsoft Managed Desktop
keywords: policy, settings
ms.service: m365-md
ms.sitesec: library
author: tiaraquan
ms.topic: reference
audience: ITPro
manager: dougeby
f1.keywords:
- NOCSH
ms.author: tiaraquan
ms.article: reference
ms.localizationpriority: medium
ms.date: 05/02/2023
ms.collection: 
- M365-modern-desktop
- tier3
---

# Windows 11 policy settings

The following table lists the Windows 11 policy settings used in Microsoft Managed Desktop.

| File name | Location  | Policy path | Policy setting name | Registry information | Supported on | Setting value | Help text |
| ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- |
| `ControlPanelDisplay.admx` | Machine | `Control Panel\Personalization` | Prevent lock screen background motion| `HKLM\Software\Policies\Microsoft\Windows\Personalization!AnimateLockScreenBackground` | At least Windows 10 | - |This policy setting controls whether the lock screen image is static or has a subtle panning effect driven by the device's accelerometer output. If you turn on this setting, motion will be prevented and the user will see the traditional static lock screen background image. If you turn off this setting (and the device has an accelerometer), the user will see the lock screen background pan around a still image as they physically move their device. |
| `Globalization.admx` | Machine | `Control Panel\Regional and Language Options` | Restrict Language Pack and Language Feature Installation | `HKLM\Software\Policies\Microsoft\Control Panel\International!RestrictLanguagePacksAndFeaturesInstall` | At least Windows Server 2016 Windows 10 | - | This policy setting restricts all users from installing language packs and language features on demand packages. This policy doesn't restrict switching the Windows language if you want to restrict the Windows language use the following policy: "Restricts the UI languages Windows uses for all logged users."<p>If you turn on this policy setting, users can't install language packs and language features. If you turn off or don't configure this policy setting, users can install language packs or features.</p>|
| `SecGuide.admx` | Machine| MS Security Guide	| Limits print driver installation to Administrators | `HKLM\Software\Policies\Microsoft\Windows NT\Printers\PointAndPrint!RestrictDriverInstallationToAdministrators` | At least Windows Server 2008 R2 or Windows 7 | - | Determines whether users that aren't an Administrator can install printer drivers on this computer. By default, users that aren't Administrators can't install print drivers on this computer. If you turn on this setting or don't configure it, the system will limit installation of print drivers to Administrators of this computer. If you turn off this setting, the system won't limit installation of print drivers to this computer. For more information, see [Restrict installation of new printer](https://support.microsoft.com/topic/kb5005010-restricting-installation-of-new-printer-drivers-after-applying-the-july-6-2021-updates-31b91c02-05bc-4ada-a7ea-183b129578a7). |
| `DnsClient.admx` | Machine | `Network\DNS Client` | Configure DNS over HTTPS (DoH) name resolution | `HKLM\Software\Policies\Microsoft\Windows NT\DNSClient!DoHPolicy` | At least Windows Vista | - | Specifies if the DNS client will perform name resolution over DNS over HTTPS (DoH). By default, the DNS client will do classic DNS name resolution (over UDP or TCP). This setting can enhance the DNS client to use DoH protocol to resolve domain names.<p>To use this policy setting, select **Enabled** and then select one of the following options from the dropdown menu:<ul><li>Prohibit DoH: No DoH name resolution will be performed.</li><li>Allow DoH: Perform DoH queries if the configured DNS servers support it. If they don't support, it tries the classic name resolution.</li><li>Require DoH: Allow only DoH name resolution. If there are no DoH-capable DNS servers configured, the name resolution will fail.</li></ul>If you turn off this policy setting or if you don't configure this policy setting computers will use locally configured settings.</p> |
| `Printing.admx` | Machine | Printers | Enable Device Control Printing Restrictions | `HKLM\Software\Policies\Microsoft\Windows NT\Printers!EnableDeviceControl` | At least Windows Server 2016 Windows 10 | - | Determines whether Device Control Printing Restrictions are enforced for printing on this computer.<p>By default there are no restrictions to printing based on connection type or printer Make/Model.</p><p>If you turn on this setting, the computer will restrict printing to printer connections on the corporate network or approved USB-connected printers. If you turn off this setting or don't configure it, there are no restrictions to printing based on connection type or printer Make/Model.</p>
| `Printing.admx` | Machine | Printers | List of Approved USB-connected print devices | `HKLM\Software\Policies\Microsoft\Windows NT\Printers!ApprovedUsbPrintDevices` | At least Windows Server 2016 Windows 10 | - | This setting is a component of the Device Control Printing Restrictions. To use this setting, turn on the **Enable Device Control Printing Restrictions** setting. When Device Control Printing is turned on, the system uses the specified list of vid/pid values to determine if the current USB connected printer is approved for local printing. Enter all the approved vid/pid combinations (separated by commas) that correspond to approved USB printer models. When a user tries to print to a USB printer queue, the device vid/pid will be compared to the approved list. |
| `StartMenu.admx` | Machine | Start Menu and Taskbar | Show or hide "Most used" list from Start menu |`HKLM\Software\Policies\Microsoft\Windows\Explorer!ShowOrHideMostUsedApps` | At least Windows Server 2016 Windows 10 Version 2106 | - | If you turn on this policy setting, you can configure Start menu to show or hide the list of user's most used apps regardless of user settings. Selecting **Show** will force the Most used list to be shown and user can't change to hide it using the Settings app. Selecting **Hide**  will force the "Most used" list to be hidden and user can't change to show it using the Settings app. Selecting **Not Configured** or if you turn off or don't configure this policy setting all will allow users to turn on or off the display of Most used list using the Settings app. This is default behavior. Configuring this policy to **Show** or **Hide** on supported versions of Windows 10 will take precedence over any setting used with the **Remove frequent programs list from the Start Menu** policy setting. The  **Remove frequent programs list from the Start Menu** setting manages same part of Start menu but with fewer options. |
| `WPN.admx` | Machine | Start Menu and Taskbar\Notifications | Enables group policy for the WNS FQDN	| `HKLM\SOFTWARE\Policies\Microsoft\Windows\CurrentVersion\PushNotifications!WnsEndpoint` | At least Windows Server 2016 Windows 10 | - |This policy sets a special WNS FQDN for specific environments. |
| `DeviceInstallation.admx` | Machine | `System\Device Installation\Device Installation Restrictions` |	Apply layered order of evaluation for Allow and Prevent device installation policies across all device match criteria| `HKLM\Software\Policies\Microsoft\Windows\DeviceInstall\Restrictions!AllowDenyLayered` At least Windows Server 2016 Windows 10 Version 2106 | - | This policy setting will change the evaluation order in which Allow and Prevent policy settings are applied when more than one install policy setting is applicable for a given device. Turn on this policy setting to ensure that overlapping device match criteria is applied based on an established hierarchy where more specific match criteria supersede less specific match criteria.<p>The hierarchical order of evaluation for policy settings that specify device match criteria is as follows: Device instance IDs > Device IDs > Device setup class > Removable devicesDevice instance IDs1. Prevent installation of devices using drivers that match these device instance IDs2.</p> <ul><li>Allow installation of devices using drivers that match these device instance IDsDevice IDs3.</li><li>Prevent installation of devices using drivers that match these device IDs4.</li><li>Allow installation of devices using drivers that match these device IDsDevice setup class5.</li><li>Prevent installation of devices using drivers that match these device setup classes6. Allow installation of devices using drivers that match these device setup classesRemovable devices7.</li><li>Prevent installation of removable devices. This policy setting provides more granular control than the "Prevent installation of devices not described by other policy settings" policy setting.</li></ul><p>If these conflicting policy settings are turned on at the same time, the **Apply layered order of evaluation for Allow and Prevent device installation policies across all device match criteria** policy setting will be enabled and the other policy setting will be ignored. If you turn off or don't configure this policy setting, the default evaluation is used.</p><p>By default all "Prevent installation..." policy settings have precedence over any other policy setting that allows Windows to install a device.</p> |
| `FileSys.admx` | Machine | `System\Filesystem\NTFS` | Enable NTFS non-paged pool usage| `HKLM\System\CurrentControlSet\Policies!NtfsForceNonPagedPoolAllocation` | At least Windows Server 2016 Windows 10 | - |By default, NTFS allocates memory from both pageable and non-pageable memory as needed. Turning on this setting tells NTFS to use non-pageable memory for all allocations. NTFS also changes all of its code sections to be non-pageable. The benefit of turning on this feature is a reduction in page-faults and stack usage at the cost of more memory consumption. A restart is required for this setting to take effect. |
| `FileSys.admx` | Machine | `System\Filesystem\NTFS` | NTFS default tier | `HKLM\System\CurrentControlSet\Policies!NtfsDefaultTier` | At least Windows Server 2016 Windows 10 | - | For NTFS tiered volumes, this setting controls the tier that new allocations go to by default. Client systems default to the Performance tier. Server systems default to the Capacity tier. |
| `FileSys.admx` | Machine | `System\Filesystem\NTFS` | NTFS parallel flush threshold |`HKLM\System\CurrentControlSet\Policies!NtfsParallelFlushThreshold` | At least Windows Server 2016 Windows 10 | - | When flushing modified file data from memory, NTFS chooses to use one or more threads based on how many files are currently open. This setting gives control over the open file threshold used to trigger parallel flush. |
| `FileSys.admx` | Machine | `System\Filesystem\NTFS` | NTFS parallel flush worker threads |`HKLM\System\CurrentControlSet\Policies!NtfsParallelFlushWorkers` | At least Windows Server 2016 Windows 10 | - | When flushing modified file data from memory, NTFS chooses to use one or more threads based on how many files are currently open. This setting gives control over how many threads will be used. Making this value larger may decrease the time it takes to flush a volume but the flush may have a larger impact on other concurrent IO operations. Values with special meaning:<ul><li>0: Use the system calculated default</li><li>1: Disable parallel flush.</li></ul><p>The default value and limit for this setting varies based on the number of available processors on a given system. The default value calculation is: `(([NumProcessors]/2) + 1)    - Default max value calculation is: ([NumProcessors]*2)`</p> |
| `Kerberos.admx` | Machine | `System\Kerberos` | Allow retrieving the cloud kerberos ticket during the sign-in| `HKLM\Software\Microsoft\Windows\CurrentVersion\Policies\System\Kerberos\Parameters!CloudKerberosTicketRetrievalEnabled` | At least Windows Server 2016 Windows 10 | - | This policy setting allows retrieving the cloud kerberos ticket during the sign-in. If you turn off or don't configure this policy setting, the cloud kerberos ticket isn't retrieved during the sign-in. If you turn on this policy setting, the cloud kerberos ticket is retrieved during the sign-in. |
| `Netlogon.admx` | Machine | System\Net Logon\DC Locator DNS Records | Use lowercase DNS host names when registering domain controller SRV records | `HKLM\Software\Policies\Microsoft\Netlogon\Parameters!DnsSrvRecordUseLowerCaseHostNames` | Unknown | - | This policy setting configures whether the domain controllers to which this setting is applied will lowercase their DNS host name when registering SRV records. If you turn on this setting, the domain controllers will lowercase their DNS host name when registering domain controller SRV records. A best-effort attempt will be made to delete any previously registered SRV records that contain mixed-case DNS host names. For more information and potential manual cleanup procedures, see [Lowercase host names record](https://aka.ms/lowercasehostnamesrvrecord). If you turn off this setting, the domain controllers will use their configured DNS host name as-is when registering domain controller SRV records. If not configured domain controllers will default to using their local configuration. The default local configuration is enabled. A restart isn't required for changes to this setting to take effect. |
| `sam.admx` | Machine | System\Security Account Manager | Configure validation of ROCA-vulnerable WHfB keys during authentication | `HKLM\Software\Microsoft\Windows\CurrentVersion\Policies\System\SAM!SamNGCKeyROCAValidation` | At least Windows Vista | - | This policy setting allows you to configure how domain controllers handle Windows Hello for Business (WHfB) keys that are vulnerable to the "Return of Coppersmith's attack" (ROCA) vulnerability. For more information, see [ROCA vulnerability](https://en.wikipedia.org/wiki/ROCA_vulnerability). <p> If you turn on this policy setting, the following options are supported: <ul><li>Ignore: during authentication, the domain controller won't probe any WHfB keys for the ROCA vulnerability.</li><li>Audit: during authentication, the domain controller will emit audit events for WHfB keys that are subject to the ROCA vulnerability (authentications will still succeed).</li><li>Block: during authentication, the domain controller will block the use of WHfB keys that are subject to the ROCA vulnerability (authentications will fail). This setting only takes effect on domain controllers.</li></ul><p>If not configured, the domain controllers will default to using their local configuration. The default local configuration is Audit. A reboot isn't required for changes to this setting to take effect.</p><p>To avoid unexpected disruptions, this setting shouldn't be set to Block until appropriate remediations have been performed for example patching of [vulnerable TPMs](https://go.microsoft.com/fwlink/?linkid=2116430)</p>. |
| `AppxPackageManager.admx` | Machine | Windows Components\App Package Deployment | Archive infrequently used apps |`HKLM\Software\Policies\Microsoft\Windows\Appx!AllowAutomaticAppArchiving` | At least Windows Server 2016 Windows 10 | - | This policy setting controls whether the system can archive infrequently used apps. If you turn on this policy setting, the system will periodically check for and archive infrequently used apps. If you turn off this policy setting, then the system won't archive any apps. If you don't configure this policy setting (default), the system will follow default behavior that is to periodically check for and archive infrequently used apps and the user will be able to configure this setting themselves. |
| `AppxPackageManager.admx` | Machine | Windows Components\App Package Deployment | Don't allow sideloaded apps to automatically update in the background | `HKLM\Software\Policies\Microsoft\Windows\Appx!DisableBackgroundAutoUpdates` | At least Windows Server 2016 Windows 10 Version 2106 | - | Manages a sideloaded apps' ability to automatically update in the background. If you turn on this policy, sideloaded apps won't automatically update in the background. If you turn off this policy, sideloaded apps will automatically update in the background. Default is 'disabled' (key not present). |
| `AppxPackageManager.admx` | Machine | Windows Components\App Package Deployment | Don't allow sideloaded apps to automatically update in the background on a metered network | `HKLM\Software\Policies\Microsoft\Windows\Appx!DisableMeteredNetworkBackgroundAutoUpdates` | At least Windows Server 2016 Windows 10 Version 2106 | - | Manages a sideloaded apps' ability to automatically update in the background on a metered network. If you turn on this policy, sideloaded apps won't automatically update in the background on a metered network. If you turn off this policy, sideloaded apps will automatically update in the background on a metered network. Default is 'disabled' (key not present). |
| `AppPrivacy.admx` | Machine | Windows Components\App Privacy | Let Windows apps take screenshots of various windows or displays | <ul><li>`HKLM\Software\Policies\Microsoft\Windows\AppPrivacy!LetAppsAccessGraphicsCaptureProgrammatic`</li><li>`HKLM\Software\Policies\Microsoft\Windows\AppPrivacy!LetAppsAccessGraphicsCaptureProgrammatic_UserInControlOfTheseApps`</li><li>`HKLM\Software\Policies\Microsoft\Windows\AppPrivacy!LetAppsAccessGraphicsCaptureProgrammatic_ForceAllowTheseApps`</li><li>`HKLM\Software\Policies\Microsoft\Windows\AppPrivacy!LetAppsAccessGraphicsCaptureProgrammatic_ForceDenyTheseApps`</li></ul> |At least Windows Server 2016 Windows 10 | - | This policy setting specifies whether Windows apps can take screenshots of various windows or displays. You can specify either a default setting for all apps or a per-app setting by specifying a Package Family Name. You can get the Package Family Name for an app by using the Get-AppPackage Windows PowerShell cmdlet. A per-app setting overrides the default setting. <ul><li>**User is in control** option: employees in your organization can decide whether Windows apps can take screenshots of various windows or displays by using Settings > Privacy on the device.</li><li>**Force Allow** option: Windows apps are allowed to take screenshots of various windows or displays and employees in your organization can't change it.</li><li>**Force Deny** option: Windows apps aren't allowed to take screenshots of various windows or displays and employees in your organization can't change it.</li></ul><p>If you turn off or don't configure this policy setting, employees in your organization can decide whether Windows apps can take screenshots of various windows or displays by using Settings > Privacy on the device.</p><p>If an app is open when this Group Policy object is applied on a device, employees must restart the app or device for the policy changes to be applied to the app.</p> |
| `AppPrivacy.admx` | Machine | Windows Components\App Privacy | Let Windows apps turn off the screenshot border | <ul><li>`HKLM\Software\Policies\Microsoft\Windows\AppPrivacy!LetAppsAccessGraphicsCaptureWithoutBorder`</li><li>`HKLM\Software\Policies\Microsoft\Windows\AppPrivacy!LetAppsAccessGraphicsCaptureWithoutBorder_UserInControlOfTheseApps`</li><li>`HKLM\Software\Policies\Microsoft\Windows\AppPrivacy!LetAppsAccessGraphicsCaptureWithoutBorder_ForceAllowTheseApps`</li><li>`HKLM\Software\Policies\Microsoft\Windows\AppPrivacy!LetAppsAccessGraphicsCaptureWithoutBorder_ForceDenyTheseApps`</li> | At least Windows Server 2016 Windows 10 | - | This policy setting specifies whether Windows apps can turn off the screenshot border. You can specify either a default setting for all apps or a per-app setting by specifying a Package Family Name. You can get the Package Family Name for an app by using the Get-AppPackage Windows PowerShell cmdlet. A per-app setting overrides the default setting. <ul><li>**User is in control** option: employees in your organization can decide whether Windows apps can turn off the screenshot border by using Settings > Privacy on the device.</li><li>**Force Allow** option: Windows apps are allowed to turn off the screenshot border and employees in your organization can't change it.</li><li>**Force Deny** option: Windows apps aren't allowed to turn off the screenshot border and employees in your organization can't change it.</li></ul><p>If you disable or don't configure this policy setting, employees in your organization can decide whether Windows apps can turn off the screenshot border by using Settings > Privacy on the device.</p><p>If an app is open when this Group Policy object is applied on a device, employees must restart the app or device for the policy changes to be applied to the app.</p> |
| `Taskbar.admx`| Machine | Windows Components\Chat | Configures the Chat icon on the taskbar | `HKLM\Software\Policies\Microsoft\Windows\Windows Chat!ChatIcon` | At least Windows Server 2016 Windows 10 | - | This policy setting allows you to configure the Chat icon on the taskbar.<ul><li>If you enable this policy setting and set it to **Show**, the Chat icon will be displayed on the taskbar by default. Users can show or hide it in Settings.</li><li>If you enable this policy setting and set it to **Hide**, the Chat icon will be hidden by default. Users can show or hide it in Settings.</li><li>If you turn on this policy setting and set it to **Disabled**, the Chat icon won't be displayed and users can't show or hide it in Settings.</li><li>If you turn off or don't configure this policy setting, the Chat icon will be configured according to the defaults for your Windows edition.</li></ul> |
| `CloudContent.admx` | Machine | Windows Components\Cloud Content | Turn off cloud consumer account state content | `HKLM\Software\Policies\Microsoft\Windows\CloudContent!DisableConsumerAccountStateContent` | At least Windows Server 2016 Windows 10 Version 1909 | This policy setting lets you turn off cloud consumer account state content in all Windows experiences. If you turn on this policy, Windows experiences that use the cloud consumer account state content client component will instead present the default fallback content. If you turn off or don't configure this policy, Windows experiences will be able to use cloud consumer account state content. |
| `DataCollection.admx` | Machine | Windows Components\Data Collection and Preview Builds | Disable OneSettings Downloads | `HKLM\Software\Policies\Microsoft\Windows\DataCollection!DisableOneSettingsDownloads` | At least Windows Server 2016 Windows 10 Version 1909 | - | This policy setting controls whether Windows attempts to connect with the OneSettings service. If you turn on this policy, Windows won't attempt to connect with the OneSettings Service. If you turn off or don't configure this policy setting, Windows will periodically attempt to connect with the OneSettings service to download configuration settings. |
| `DataCollection.admx` | Machine | Windows Components\Data Collection and Preview Builds | Enable OneSettings Auditing | `HKLM\Software\Policies\Microsoft\Windows\DataCollection!EnableOneSettingsAuditing` | At least Windows Server 2016 Windows 10 Version 1909 | - | This policy setting controls whether Windows records attempts to connect with the OneSettings service to the EventLog. If you turn on this policy, Windows will record attempts to connect with the OneSettings service to the `Microsoft\Windows\Privacy-Auditing\Operational EventLog` channel. If you turn off or don't configure this policy setting, Windows won't record attempts to connect with the OneSettings service to the EventLog. |
| `DataCollection.admx` | Machine | Windows Components\Data Collection and Preview Builds | Limit Diagnostic Log Collection | `HKLM\Software\Policies\Microsoft\Windows\DataCollection!LimitDiagnosticLogCollection` | At least Windows Server 2016 Windows 10 Version 1909 | - | This policy setting controls whether additional diagnostic logs are collected when more information is needed to troubleshoot a problem on the device. Diagnostic logs are only sent when the device has been configured to send optional diagnostic data. If you turn on this policy setting, diagnostic logs won't be collected. If you turn off or don't configure this policy setting, we might collect diagnostic logs if the device has been configured to send optional diagnostic data. |
| `DataCollection.admx` | Machine | Windows Components\Data Collection and Preview Builds | Limit Dump Collection | `HKLM\Software\Policies\Microsoft\Windows\DataCollection!LimitDumpCollection` | At least Windows Server 2016 Windows 10 Version 1909 | - | This policy setting limits the type of dumps that can be collected when more information is needed to troubleshoot a problem. Dumps are only sent when the device has been configured to send optional diagnostic data. If you turn on this setting, Windows Error Reporting is limited to sending kernel mini dumps and user mode triage dumps. If you turn off or don't configure this policy setting, we might collect full or heap dumps if the user has opted to send optional diagnostic data. |
| `Sensors.admx` | Machine | Windows Components\Human Presence | Force Instant Lock | `HKLM\Software\Policies\Microsoft\HumanPresence!ForceInstantLock; HKLM\Software\Policies\Microsoft\HumanPresence!ForceInstantLock` | At least Windows 10 | - | Determines whether Lock on Leave is forced on/off by the MDM policy. The user won't be able to change this setting and the toggle in the user experience will be greyed out. |
| `Sensors.admx` | Machine | Windows Components\Human Presence | Force Instant Wake | `HKLM\Software\Policies\Microsoft\HumanPresence!ForceInstantWake; HKLM\Software\Policies\Microsoft\HumanPresence!ForceInstantWake` | At least Windows 10 | - |  Determines whether Wake On Arrival is forced on/off by the MDM policy. The user won't be able to change this setting and the toggle in the user experience will be greyed out. |
|  `Sensors.admx` | Machine | Windows Components\Human Presence | Lock Timeout | `HKLM\Software\Policies\Microsoft\HumanPresence!ForceLockTimeout` |  At least Windows 10 | - | Determines the timeout for Lock on Leave forced by the MDM policy. The user won't be able to change this setting and the toggle in the user experience will be greyed out. |
| `inetres.admx` | Machine | Windows Components\Internet Explorer | Replace JScript by loading `JScript9Legacy` in place of JScript via MSHTML/WebOC. | `HKLM\Software\Policies\Microsoft\Internet Explorer\Main!JScriptReplacement` | At least Internet Explorer 11.0 | - | This policy setting specifies whether JScript or JScript9Legacy is loaded for MSHTML/WebOC based invocations. If you turn on this policy setting, `JScript9Legacy` will be loaded in situations where JScript is instantiated. If you turn off this policy or don't configure it, then JScript will be used. |
| `WindowsDefender.admx` | Machine | Windows Components\Microsoft Defender Antivirus | Configure scheduled task times randomization window | `HKLM\Software\Policies\Microsoft\Windows Defender!SchedulerRandomizationTime; HKLM\Software\Policies\Microsoft\Windows Defender!SchedulerRandomizationTime` | At least Windows Server 2012 Windows 8 or Windows RT | - | This policy setting allows you to configure the scheduled scan start time and the scheduled security intelligence update start time window (in hours). If you turn off or don't configure this setting, scheduled tasks will begin at a random time, within an interval of four hours, after the specified start time. If you turn on this setting, you must pick a randomization window in hours. The possible randomization window interval is between 1 and 23 hours. |
| `WindowsDefender.admx` | Machine | Windows Components\Microsoft Defender Antivirus | Define the directory path to copy support log files | `HKLM\Software\Policies\Microsoft\Windows Defender!SupportLogLocation` | At least Windows Server 2016 Windows 10 Version 1607 | - | This policy setting allows you to configure the directory path where the support log files would be copied to. The value of this setting should be a valid directory path. If you turn on this setting, the support log files will be copied to the specified support log location path. If you disable or don't configure this setting, the support logs files won't be copied to any location. |
| `WindowsDefender.admx` | Machine | Windows Components\Microsoft Defender Antivirus\Device Control | Define device control policy groups | `HKLM\Software\Policies\Microsoft\Windows Defender\Device Control\Policy Groups!PolicyGroups` | Unknown | - | Follow the device control policy groups xml schema to fill out the policy groups data. |
| `WindowsDefender.admx` | Machine | Windows Components\Microsoft Defender Antivirus\Device Control | Define device control policy groups | `HKLM\Software\Policies\Microsoft\Windows Defender\Device Control\Policy Rules!PolicyRules` | Unknown | - | Follow the device control policy groups xml schema to fill out the policy groups data. |
| `WindowsDefender.admx` | Machine | Windows Components\Microsoft Defender Antivirus\Exclusions | IP Address Exclusions | `HKLM\Software\Policies\Microsoft\Windows Defender\Exclusions!Exclusions_IpAddresses; HKLM\Software\Policies\Microsoft\Windows Defender\Exclusions\IpAddresses` | At least Windows Server 2016 Windows 10 Version 1709 | - | Allows an administrator to explicitly disable network packet inspection made by `wdnisdrv` on a particular set of IP addresses.|
| `WindowsDefender.admx` | Machine | Windows Components\Microsoft Defender Antivirus\Microsoft Defender Exploit Guard\Network Protection | Controls whether Network Protection can be configured into block or test mode on Windows Server. | `HKLM\Software\Policies\Microsoft\Windows Defender\Windows Defender Exploit Guard\Network Protection!AllowNetworkProtectionOnWinServer` | At least Windows Server 2016 Windows 10 Version 1709 | Disabled | <ul><li>Disabled (Default): **Not Configured** or **Disabled**, network protection can't be configured into block or test mode on Windows Server.</li><li>Enabled: Administrators can control whether Network Protection can be configured into block or test mode on Windows Server.</li></ul><p>This configuration is dependent on the `EnableNetworkProtection` configuration. If this configuration is false, `EnableNetworkProtection` will be ignored otherwise network protection will start on Windows Server depending on the value of `EnableNetworkProtection`.</p> |
| `WindowsDefender.admx` | Machine | Windows Components\Microsoft Defender Antivirus\Network Inspection System | Controls datagram processing for network protection. | `HKLM\Software\Policies\Microsoft\Windows Defender\NIS!DisableDatagramProcessing` | At least Windows Server 2016 Windows 10 Version 1709 | Disabled | <ul><li> Disabled (Default): If **Not Configured** or **Disabled**, network protection can't be configured into block or test mode on Windows Server.</li><li>Enabled: Administrators can control whether Network Protection is allowed to be configured into block or test mode on Windows Server.</li></ul><p>This configuration is dependent on the `EnableNetworkProtection` configuration. If this configuration is false, `EnableNetworkProtection` will be ignored otherwise network protection will start on Windows Server depending on the value of `EnableNetworkProtection`.</p> |
| `WindowsDefender.admx` | Machine | Windows Components\Microsoft Defender Antivirus\Real-time Protection | Turn on script scanning | `HKLM\Software\Policies\Microsoft\Windows Defender\Real-Time Protection!DisableScriptScanning` | At least Windows Server 2012 Windows 8 or Windows RT | - | This policy setting allows you to configure script scanning. If you turn on or don't configure this setting, script scanning will be enabled. If you turn off this setting, script scanning will be disabled. |
| `WindowsDefender.admx` | Machine | Windows Components\Microsoft Defender Antivirus\Security Intelligence Updates | Allows Microsoft Defender Antivirus to update and communicate over a metered connection. | `HKLM\Software\Policies\Microsoft\Windows Defender\Signature Updates!MeteredConnectionUpdates` | At least Windows Server 2012 Windows 8 or Windows RT | - | <ul<li>Disabled (Default): Updates and communications aren't allowed over metered connections.</li><li>Enabled: Allow managed devices to update through metered connections. Data charges may apply.</li></ul> |
| `TerminalServer.admx` | Machine | Windows Components\Remote Desktop Services\Remote Desktop Session Host\Device and Resource Redirection | Allow UI Automation redirection | `HKLM\SOFTWARE\Policies\Microsoft\Windows NT\Terminal Services!EnableUiaRedirection` | Unknown | - | This policy setting determines whether User Interface (UI) Automation client applications running on the local computer can access UI elements on the server. UI Automation gives programs access to most UI elements. You can use assistive technology products like Magnifier and Narrator that need to interact with the UI in order to work properly. UI information also allows automated test scripts to interact with the UI. Remote Desktop sessions don't currently support UI Automation redirection. If you turn on or don't configure this policy setting, any UI Automation clients on your local computer can interact with remote apps. For example, you can use your local computer's Narrator and Magnifier clients to interact with UI on a web page you opened in a remote session. If you turn off this policy setting, UI Automation clients running on your local computer can't interact with remote apps. |
| `TerminalServer.admx` | Machine | Windows Components\Remote Desktop Services\Remote Desktop Session Host\Device and Resource Redirection | Don't allow location redirection | `HKLM\SOFTWARE\Policies\Microsoft\Windows NT\Terminal Services!fDisableLocationRedir` | Unknown | - | This policy setting lets you control the redirection of location data to the remote computer in a Remote Desktop Services session. By default, Remote Desktop Services allows redirection of location data. If you turn on this policy setting, users can't redirect their location data to the remote computer. If you turn off or don't configure this policy setting, users can redirect their location data to the remote computer. |
| `TenantRestrictions.admx` | Machine | Windows Components\Tenant Restrictions | Cloud Policy Details | <ul><li>`HKLM\SOFTWARE\Policies\Microsoft\Windows\TenantRestrictions\Payload!cloudid`</li><li>`HKLM\SOFTWARE\Policies\Microsoft\Windows\TenantRestrictions\Payload!tenantid`</li><li>`HKLM\SOFTWARE\Policies\Microsoft\Windows\TenantRestrictions\Payload!policyid`</li><li>`HKLM\SOFTWARE\Policies\Microsoft\Windows\TenantRestrictions\Payload!enforceFirewall`</li><li>`HKLM\SOFTWARE\Policies\Microsoft\Windows\TenantRestrictions\Payload!hostnames`</li><li>`HKLM\SOFTWARE\Policies\Microsoft\Windows\TenantRestrictions\Payload!subdomainSupportedHostnames`</li><li>`HKLM\SOFTWARE\Policies\Microsoft\Windows\TenantRestrictions\Payload!ipRanges`</li></ul> | At least Windows 10 Version 1909 | - | This setting enables and configures the device-based tenant restrictions feature for Azure Active Directory. When you turn on this setting, compliant applications will be prevented from accessing disallowed tenants according to a policy set in your Azure AD tenant.<p>Creation of a policy in your home tenant is required and more security measures for managed devices are recommended for best protection. Refer to [Azure AD Tenant Restrictions](https://go.microsoft.com/fwlink/?linkid=2148762Before) before enabling firewall protection to ensure that a Windows Defender Application Control (WDAC) policy that correctly tags applications has been applied to the target devices. Enabling firewall protection without a corresponding WDAC policy will prevent all applications from reaching Microsoft endpoints. This firewall setting isn't supported on all versions of Windows. For more information, see [setting up WDAC with tenant restrictions](https://go.microsoft.com/fwlink/?linkid=2155230) |
| `NewsAndInterests.admx` | Machine | Windows Components\Widgets | Allow Widgets | `HKLM\SOFTWARE\Policies\Microsoft\Dsh!AllowNewsAndInterests` | At least Windows 10 | - | This policy specifies whether the widgets feature is allowed on the device. Widgets will be turned on by default unless you change this policy in your settings. If you turned on this setting before, it will stay on automatically unless you turn it off. |
| `Passport.admx` | Machine | Windows Components\Windows Hello for Business | Use cloud trust for on-premises authentication | `HKLM\SOFTWARE\Policies\Microsoft\PassportForWork!UseCloudTrustForOnPremAuth` | At least Windows 10 | - | Use this policy setting to configure Windows Hello for Business to use Azure AD Kerberos for on-premises authentication. If you turn this policy setting, Windows Hello for Business will use a Kerberos ticket retrieved from authenticating to Azure for on-premises authentication. If you turn off or don't configure this policy setting, Windows Hello for Business will use a key or certificate (depending on other policy settings) for on-premises authentication. An environment that enables both this policy setting and the **Use Windows Hello for Business** policy setting requires one or more Windows Server 2016 domain controllers. Otherwise, Windows Hello for Business authentication will fail. |
| `WindowsSandbox.admx`| Machine | Windows Components\Windows Sandbox | Allow audio input in Windows Sandbox | `HKLM\SOFTWARE\Policies\Microsoft\Windows\Sandbox!AllowAudioInput` | Unknown | - | This policy setting turns on or ogg audio input to the Sandbox. If you turn on this policy setting, Windows Sandbox will be able to receive audio input from the user. Applications using a microphone may require this setting. If you turn off this policy setting, Windows Sandbox won't be able to receive audio input from the user. Applications using a microphone may not function properly with this setting. If you don't configure this policy setting, audio input will be enabled. There may be security implications of exposing host audio input to the container. |
| `WindowsSandbox.admx`| Machine | Windows Components\Windows Sandbox | Allow clipboard sharing with Windows Sandbox | `HKLM\SOFTWARE\Policies\Microsoft\Windows\Sandbox!AllowClipboardRedirection` | Unknown | - | This policy setting enables or disables clipboard sharing with the sandbox. If you turn on this policy setting, copy and paste between the host, and Windows Sandbox are permitted. If you turn off this policy setting, copy and paste in and out of Sandbox will be restricted. If you don't configure this policy setting, clipboard sharing will be enabled. |
| `WindowsSandbox.admx`| Machine | Windows Components\Windows Sandbox | Allow networking in Windows Sandbox | `HKLM\SOFTWARE\Policies\Microsoft\Windows\Sandbox!AllowNetworking` | Unknown | Disabled | This policy setting turns on or off networking in the sandbox. You can disable network access to decrease the attack surface exposed by the sandbox. If you turn on this policy setting, networking is done by creating a virtual switch on the host and connects the Windows Sandbox to it via a virtual NIC. If you turn off this policy setting, networking is disabled in Windows Sandbox. If you don't configure this policy setting, networking will be enabled. Turning on networking can expose untrusted applications to the internal network. |
| `WindowsSandbox.admx`| Machine | Windows Components\Windows Sandbox | Allow printer sharing with Windows Sandbox | `HKLM\SOFTWARE\Policies\Microsoft\Windows\Sandbox!AllowPrinterRedirection` | Unknown | Disabled | This policy setting turns on or off printer sharing from the host into the Sandbox. If you turn on this policy setting, host printers will be shared into Windows Sandbox. If you turn off this policy setting, Windows Sandbox won't be able to view printers from the host. If you don't configure this policy setting, printer redirection will be disabled. |
| `WindowsSandbox.admx`| Machine | Windows Components\Windows Sandbox | Allow vGPU sharing for Windows Sandbox | `HKLM\SOFTWARE\Policies\Microsoft\Windows\Sandbox!AllowVGPU` | Unknown | Disabled | This policy setting turns on or off virtualized GPU. If you turn on this policy setting, vGPU will be supported in the Windows Sandbox. If you turn off this policy setting, Windows Sandbox will use software rendering that can be slower than virtualized GPU. If you don't configure this policy setting, vGPU will be turned on. Enabling virtualized GPU can potentially increase the attack surface of the sandbox. |
| `WindowsSandbox.admx`| Machine | Windows Components\Windows Sandbox | Allow video input in Windows Sandbox | `HKLM\SOFTWARE\Policies\Microsoft\Windows\Sandbox!AllowVideoInput` | Unknown | Disabled | This policy setting turns on or off the video input to the Sandbox. If you turn on this policy setting, video input is enabled in Windows Sandbox. If you turn off this policy setting, video input is disabled in Windows Sandbox. If you don't configure this policy setting, video input will be disabled. Applications that use video input might not function properly in Windows Sandbox. There may be security implications of exposing host video input to the container. |
| `WindowsUpdate.admx` | Machine | Windows Components\Windows Update\Manage updates offered from Windows Server Update Service | Specify source service for specific classes of Windows Updates |<ul><li>`HKLM\Software\Policies\Microsoft\Windows\WindowsUpdate\AU!UseUpdateClassPolicySource`</li><li>`HKLM\Software\Policies\Microsoft\Windows\WindowsUpdate!SetPolicyDrivenUpdateSourceForFeatureUpdates`</li> <li>`HKLM\Software\Policies\Microsoft\Windows\WindowsUpdate!SetPolicyDrivenUpdateSourceForQualityUpdates`</li><li>`HKLM\Software\Policies\Microsoft\Windows\WindowsUpdate!SetPolicyDrivenUpdateSourceForDriverUpdates`</li><li>`HKLM\Software\Policies\Microsoft\Windows\WindowsUpdate!SetPolicyDrivenUpdateSourceForOtherUpdates`</li></ul> | At least Windows Server 2016 Windows 10 Version 2106 | - | When this policy is turned on, devices will receive Windows updates for the classes listed from the specified update source: either Windows Update or Windows Server Update Service. <p>To receive any updates from the Windows Server Update Service, you must have properly configured an intranet Microsoft update service location via the **Specify intranet Microsoft update service location** policy. If this policy isn't configured or is turned off, the device will continue to detect updates per your other policy configurations.</p><p>If you're using the **Do not allow deferral policies to cause scans against Windows Update**  policy to ensure devices only scan against your specified server, we recommend configuring this policy instead or in addition to that policy. |
